<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://java.sun.com/jsf/html"  
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">  
  <ui:composition template="/basicTemplate.xhtml">
    <f:metadata>
        <!--f:viewParam id="id" name="id" value="#{employeeBacking.employee}" converter="employeeConverter" /-->
        <f:viewAction action="#{studentSearchBean.init}" />
    </f:metadata>
    <ui:define name="title">Поиск абитуриентов</ui:define>
    <ui:define name="content">
        <p:inputText value="#{studentSearchBean.filter}">
            <p:ajax listener="#{studentSearchBean.doFilter}" process="@this" update="students" />
        </p:inputText>
        <p:dataTable id="students" var="student" value="#{studentSearchBean.students}" rows="10" paginator="true" rowIndexVar="rowIndex">
            <p:column headerText="#" width="5%">
                #{rowIndex+1}
            </p:column>
            <p:column headerText="Фамилия">
                <h:outputText value="${student.person.surname}" />
            </p:column>
            <p:column headerText="Имя">
                <h:outputText value="${student.person.name}" />
            </p:column>
            <p:column headerText="Отчество">
                <h:outputText value="${student.person.surname}" />
            </p:column>
        </p:dataTable>
    </ui:define>
</ui:composition>
</html> 
